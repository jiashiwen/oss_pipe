# 重构计划

- [] 删除不必要的注释
- [ ] 消除部分告警
- [ ] 任务并行细粒度控制，stop_mask 下沉到执行层
- [ ] 修改 handle_error 函数，增加stop_mark 变更能力
- [ ] gen_source_object_list_file 增加正则过滤
- [ ] 梳理filter节点，在生成执行文件和增量部分优化过滤逻辑
- [ ] Arc::<JoinSet> 用于listed_records_transfor 是否可行；tokio Arc::<JoinSet> spawn in spawn 实验

- [ ] 归集provide 为s3 为新增azsure blob 和 gcs 做准备
- [ ] s3 新增 req_style 属性 用于区分 Path-style 与Virtual-hosted–style，当使用 /etc/hosts 绑定域名时 使用Path-style
- [ ] 优化oss获取object list 模块，采用并发方式获取，文件名obj_list_时间戳_序号
- [ ] 尝试使用信号量控制线程总数量 https://course.rs/advance/concurrency-with-threads/sync1.html